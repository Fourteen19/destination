{"version":3,"sources":["webpack://corp-platform/./resources/admin/js/pages/clients/list.js"],"names":["$","DataTable","processing","serverSide","ajax","columns","data","name","orderable","searchable","className","targets","document","on","modal_update_action_button_text","modal_add_class_action_button_text","modal_update_title","modal_update_body","modal_update_data_id","this","modal","modal_reset_class_action_button","ajaxSetup","headers","attr","modal_update_processing_message","modal_disable_action_button","type","url","text","dataType","success","modal_update_result_message","message","result","draw","error","complete","modal_close","addClass","modal_remove_class_action_button_text"],"mappings":"AAAAA,GAAE,WAEcA,EAAE,iBAAiBC,UAAU,CACrCC,YAAY,EACZC,YAAY,EACZC,KAAM,iBACNC,QAAS,CACL,CAACC,KAAM,OAAQC,KAAM,OAAQC,WAAW,EAAOC,YAAY,GAC3D,CAACH,KAAM,YAAaC,KAAM,YAAaC,WAAW,EAAMC,YAAY,GACpE,CAACH,KAAM,SAAUC,KAAM,SAAUC,WAAW,EAAOC,YAAY,IAEnE,WAAc,CAAC,CACXC,UAAU,eACVC,QAAS,CAAC,UAQtBX,EAAEY,UAAUC,GAAG,QAAS,sBAAsB,WAC1CC,gCAAgC,UAChCC,mCAAmC,cACnCA,mCAAmC,UACnCC,mBAAmB,kBACnBC,kBAAkB,gDAClBC,qBAAqBlB,EAAEmB,MAAMb,KAAK,OAClCN,EAAE,kBAAkBoB,MAAM,WAG9BpB,EAAEY,UAAUC,GAAG,QAAS,uBAAuB,WAC3CQ,kCACAP,gCAAgC,WAChCC,mCAAmC,cACnCA,mCAAmC,WACnCC,mBAAmB,wBACnBC,kBAAkB,iDAClBC,qBAAqBlB,EAAEmB,MAAMb,KAAK,OAClCN,EAAE,kBAAkBoB,MAAM,WAG9BpB,EAAEY,UAAUC,GAAG,QAAS,yBAAyB,WAC7CQ,kCACAP,gCAAgC,aAChCC,mCAAmC,cACnCA,mCAAmC,aACnCC,mBAAmB,0BACnBC,kBAAkB,mDAClBC,qBAAqBlB,EAAEmB,MAAMb,KAAK,OAClCN,EAAE,kBAAkBoB,MAAM,WAI9BpB,EAAEsB,UAAU,CACRC,QAAS,CACL,eAAgBvB,EAAE,2BAA2BwB,KAAK,cAI1DxB,EAAE,iBAAiBa,GAAG,QAAS,WAAW,WAEtCY,gCAAgC,iBAChCC,8BAEA1B,EAAEI,KAAK,CACHuB,KAAM,OACNC,IAAK,WAAW5B,EAAE,YAAY6B,OAC9BvB,KAAM,CACF,QAAY,UAEhBwB,SAAU,OACVC,QAAS,SAASzB,GAEd0B,4BAA4B1B,EAAK2B,SAE7B3B,EAAK4B,QAELlC,EAAE,iBAAiBC,YAAYkC,MAAK,IAG5CC,MAAO,SAAS9B,GACZ0B,4BAA4B,6CAEhCK,SAAU,SAAS/B,GAEfgC,oBAQZtC,EAAE,iBAAiBa,GAAG,QAAS,YAAY,WAEvCY,gCAAgC,iBAChCC,8BAEA1B,EAAEI,KAAK,CACHuB,KAAM,OACNC,IAAK,WAAW5B,EAAE,YAAY6B,OAAO,WACrCvB,KAAM,CACF,QAAY,SAEhBwB,SAAU,OACVC,QAAS,SAASzB,GAEd0B,4BAA4B1B,EAAK2B,SAEjCjC,EAAE,YAAYA,EAAE,YAAY6B,QAAQA,KAAK,aACzC7B,EAAE,YAAYA,EAAE,YAAY6B,QAAQU,SAAS,wBAC7CC,sCAAsC,WAElClC,EAAK4B,QAELlC,EAAE,iBAAiBC,YAAYkC,MAAK,IAI5CC,MAAO,SAAS9B,GACZ0B,4BAA4B,6CAEhCK,SAAU,SAAS/B,GAEfgC,oBAOZtC,EAAE,iBAAiBa,GAAG,QAAS,cAAc,WAEzCY,gCAAgC,iBAChCC,8BAEA1B,EAAEI,KAAK,CACHuB,KAAM,OACNC,IAAK,WAAW5B,EAAE,YAAY6B,OAAO,aACrCvB,KAAM,CACF,QAAY,SAEhBwB,SAAU,OACVC,QAAS,SAASzB,GAEd0B,4BAA4B1B,EAAK2B,SAEjCjC,EAAE,YAAYA,EAAE,YAAY6B,QAAQA,KAAK,WACzC7B,EAAE,YAAYA,EAAE,YAAY6B,QAAQU,SAAS,sBAC7CC,sCAAsC,aAElClC,EAAK4B,QAELlC,EAAE,iBAAiBC,YAAYkC,MAAK,IAI5CC,MAAO,SAAS9B,GACZ0B,4BAA4B,6CAEhCK,SAAU,SAAS/B,GAEfgC","file":"/admin/js/pages/clients/list.js","sourcesContent":["$(function () {\r\n\r\n    var table = $('#client_table').DataTable({\r\n        processing: true,\r\n        serverSide: true,\r\n        ajax: \"/admin/clients\",\r\n        columns: [\r\n            {data: 'name', name: 'name', orderable: false, searchable: false},\r\n            {data: 'subdomain', name: 'subdomain', orderable: true, searchable: true},\r\n            {data: 'action', name: 'action', orderable: false, searchable: false},\r\n        ],\r\n        'columnDefs': [{\r\n            className:'action-width',\r\n            targets: [2]\r\n        }]\r\n    });\r\n\r\n});\r\n\r\n\r\n\r\n$(document).on('click', '.open-delete-modal', function() {\r\n    modal_update_action_button_text(\"Delete\");\r\n    modal_add_class_action_button_text('btn-danger');\r\n    modal_add_class_action_button_text('delete');\r\n    modal_update_title('Delete Client?');\r\n    modal_update_body(\"Are you sure you want to delete this client?\");\r\n    modal_update_data_id($(this).data('id'));\r\n    $('#confirm_modal').modal('show');\r\n});\r\n\r\n$(document).on('click', '.open-suspend-modal', function() {\r\n    modal_reset_class_action_button();\r\n    modal_update_action_button_text(\"Suspend\");\r\n    modal_add_class_action_button_text('btn-danger');\r\n    modal_add_class_action_button_text('suspend');\r\n    modal_update_title('Suspend this client?');\r\n    modal_update_body(\"Are you sure you want to suspend this client?\");\r\n    modal_update_data_id($(this).data('id'));\r\n    $('#confirm_modal').modal('show');\r\n});\r\n\r\n$(document).on('click', '.open-unsuspend-modal', function() {\r\n    modal_reset_class_action_button();\r\n    modal_update_action_button_text(\"Unsuspend\");\r\n    modal_add_class_action_button_text('btn-danger');\r\n    modal_add_class_action_button_text('unsuspend');\r\n    modal_update_title('Unsuspend this client?');\r\n    modal_update_body(\"Are you sure you want to unsuspend this client?\");\r\n    modal_update_data_id($(this).data('id'));\r\n    $('#confirm_modal').modal('show');\r\n});\r\n\r\n\r\n$.ajaxSetup({\r\n    headers: {\r\n        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n    }\r\n});\r\n\r\n$('.modal-footer').on('click', '.delete', function() {\r\n\r\n    modal_update_processing_message(\"Processing...\");\r\n    modal_disable_action_button();\r\n\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: 'clients/'+$('#data_id').text(),\r\n        data: {\r\n            '_method' : 'DELETE',\r\n        },\r\n        dataType: 'json',\r\n        success: function(data) {\r\n\r\n            modal_update_result_message(data.message);\r\n\r\n            if (data.result)\r\n            {\r\n                $('#client_table').DataTable().draw(false);\r\n            }\r\n        },\r\n        error: function(data) {\r\n            modal_update_result_message(\"An error occured. Please try again later\");\r\n        },\r\n        complete: function(data) {\r\n\r\n            modal_close()\r\n\r\n        }\r\n    });\r\n\r\n});\r\n\r\n\r\n$('.modal-footer').on('click', '.suspend', function() {\r\n\r\n    modal_update_processing_message(\"Processing...\");\r\n    modal_disable_action_button();\r\n\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: 'clients/'+$('#data_id').text()+'/suspend',\r\n        data: {\r\n            '_method' : 'PATCH',\r\n        },\r\n        dataType: 'json',\r\n        success: function(data) {\r\n\r\n            modal_update_result_message(data.message);\r\n\r\n            $('#suspend_'+$('#data_id').text()).text('Unsuspend');\r\n            $('#suspend_'+$('#data_id').text()).addClass('open-unsuspend-modal');\r\n            modal_remove_class_action_button_text('suspend');\r\n\r\n            if (data.result)\r\n            {\r\n                $('#client_table').DataTable().draw(false);\r\n\r\n            }\r\n        },\r\n        error: function(data) {\r\n            modal_update_result_message(\"An error occured. Please try again later\");\r\n        },\r\n        complete: function(data) {\r\n\r\n            modal_close()\r\n\r\n        }\r\n    });\r\n\r\n});\r\n\r\n$('.modal-footer').on('click', '.unsuspend', function() {\r\n\r\n    modal_update_processing_message(\"Processing...\");\r\n    modal_disable_action_button();\r\n\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: 'clients/'+$('#data_id').text()+'/unsuspend',\r\n        data: {\r\n            '_method' : 'PATCH',\r\n        },\r\n        dataType: 'json',\r\n        success: function(data) {\r\n\r\n            modal_update_result_message(data.message);\r\n\r\n            $('#suspend_'+$('#data_id').text()).text('Suspend');\r\n            $('#suspend_'+$('#data_id').text()).addClass('open-suspend-modal');\r\n            modal_remove_class_action_button_text('unsuspend');\r\n\r\n            if (data.result)\r\n            {\r\n                $('#client_table').DataTable().draw(false);\r\n\r\n            }\r\n        },\r\n        error: function(data) {\r\n            modal_update_result_message(\"An error occured. Please try again later\");\r\n        },\r\n        complete: function(data) {\r\n\r\n            modal_close()\r\n\r\n        }\r\n\r\n    });\r\n\r\n});\r\n"],"sourceRoot":""}