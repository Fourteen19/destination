{"version":3,"sources":["webpack://corp-platform/./resources/admin/js/pages/clients/list.js"],"names":["$","DataTable","processing","serverSide","ajax","columns","data","name","orderable","searchable","className","targets","fn","dataTable","ext","errMode","alert","document","on","modal_update_action_button_text","modal_add_class_action_button_text","modal_update_title","modal_update_body","modal_update_data_id","this","modal","modal_reset_class_action_button","ajaxSetup","headers","attr","modal_update_processing_message","modal_disable_action_button","type","url","text","dataType","success","modal_update_result_message","message","result","draw","error","complete","modal_close","addClass","modal_remove_class_action_button_text"],"mappings":"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","file":"/admin/js/pages/clients/list.js","sourcesContent":["$(function () {\n\n    var table = $('#client_table').DataTable({\n        processing: true,\n        serverSide: true,\n        ajax: \"/admin/clients\",\n        columns: [\n            {data: 'name', name: 'name', orderable: false, searchable: false},\n            {data: 'subdomain', name: 'subdomain', orderable: true, searchable: true},\n            {data: 'action', name: 'action', orderable: false, searchable: false},\n        ],\n        'columnDefs': [{\n            className:'action-width',\n            targets: [2]\n        }]\n    });\n\n    $.fn.dataTable.ext.errMode = () => alert(' @lang(\\'ck_admin.datatables.loading_error\\') ');\n\n});\n\n\n\n$(document).on('click', '.open-delete-modal', function() {\n    modal_update_action_button_text(\"Delete\");\n    modal_add_class_action_button_text('btn-danger');\n    modal_add_class_action_button_text('delete');\n    modal_update_title('Delete Client?');\n    modal_update_body(\"Are you sure you want to delete this client?\");\n    modal_update_data_id($(this).data('id'));\n    $('#confirm_modal').modal('show');\n});\n\n$(document).on('click', '.open-suspend-modal', function() {\n    modal_reset_class_action_button();\n    modal_update_action_button_text(\"Suspend\");\n    modal_add_class_action_button_text('btn-danger');\n    modal_add_class_action_button_text('suspend');\n    modal_update_title('Suspend this client?');\n    modal_update_body(\"Are you sure you want to suspend this client?\");\n    modal_update_data_id($(this).data('id'));\n    $('#confirm_modal').modal('show');\n});\n\n$(document).on('click', '.open-unsuspend-modal', function() {\n    modal_reset_class_action_button();\n    modal_update_action_button_text(\"Unsuspend\");\n    modal_add_class_action_button_text('btn-danger');\n    modal_add_class_action_button_text('unsuspend');\n    modal_update_title('Unsuspend this client?');\n    modal_update_body(\"Are you sure you want to unsuspend this client?\");\n    modal_update_data_id($(this).data('id'));\n    $('#confirm_modal').modal('show');\n});\n\n\n$.ajaxSetup({\n    headers: {\n        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n    }\n});\n\n$('.modal-footer').on('click', '.delete', function() {\n\n    modal_update_processing_message(\"Processing...\");\n    modal_disable_action_button();\n\n    $.ajax({\n        type: 'POST',\n        url: 'clients/'+$('#data_id').text(),\n        data: {\n            '_method' : 'DELETE',\n        },\n        dataType: 'json',\n        success: function(data) {\n\n            modal_update_result_message(data.message);\n\n            if (data.result)\n            {\n                $('#client_table').DataTable().draw(false);\n            }\n        },\n        error: function(data) {\n            modal_update_result_message(\"An error occured. Please try again later\");\n        },\n        complete: function(data) {\n\n            modal_close()\n\n        }\n    });\n\n});\n\n\n$('.modal-footer').on('click', '.suspend', function() {\n\n    modal_update_processing_message(\"Processing...\");\n    modal_disable_action_button();\n\n    $.ajax({\n        type: 'POST',\n        url: 'clients/'+$('#data_id').text()+'/suspend',\n        data: {\n            '_method' : 'PATCH',\n        },\n        dataType: 'json',\n        success: function(data) {\n\n            modal_update_result_message(data.message);\n\n            $('#suspend_'+$('#data_id').text()).text('Unsuspend');\n            $('#suspend_'+$('#data_id').text()).addClass('open-unsuspend-modal');\n            modal_remove_class_action_button_text('suspend');\n\n            if (data.result)\n            {\n                $('#client_table').DataTable().draw(false);\n\n            }\n        },\n        error: function(data) {\n            modal_update_result_message(\"An error occured. Please try again later\");\n        },\n        complete: function(data) {\n\n            modal_close()\n\n        }\n    });\n\n});\n\n$('.modal-footer').on('click', '.unsuspend', function() {\n\n    modal_update_processing_message(\"Processing...\");\n    modal_disable_action_button();\n\n    $.ajax({\n        type: 'POST',\n        url: 'clients/'+$('#data_id').text()+'/unsuspend',\n        data: {\n            '_method' : 'PATCH',\n        },\n        dataType: 'json',\n        success: function(data) {\n\n            modal_update_result_message(data.message);\n\n            $('#suspend_'+$('#data_id').text()).text('Suspend');\n            $('#suspend_'+$('#data_id').text()).addClass('open-suspend-modal');\n            modal_remove_class_action_button_text('unsuspend');\n\n            if (data.result)\n            {\n                $('#client_table').DataTable().draw(false);\n\n            }\n        },\n        error: function(data) {\n            modal_update_result_message(\"An error occured. Please try again later\");\n        },\n        complete: function(data) {\n\n            modal_close()\n\n        }\n\n    });\n\n});\n"],"sourceRoot":""}