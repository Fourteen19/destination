{"version":3,"sources":["webpack://corp-platform/./resources/admin/js/pages/users/list.js"],"names":["$","document","on","modal_update_action_button_text","modal_add_class_action_button_text","modal_update_title","modal_update_body","modal_update_data_id","this","data","modal","ajaxSetup","headers","attr","modal_update_processing_message","modal_disable_action_button","ajax","type","url","text","dataType","success","modal_update_result_message","message","result","DataTable","draw","error","complete","modal_close"],"mappings":"AAAAA,EAAEC,UAAUC,GAAG,QAAS,sBAAsB,WAC1CC,gCAAgC,UAChCC,mCAAmC,cACnCA,mCAAmC,UACnCC,mBAAmB,gBACnBC,kBAAkB,8CAClBC,qBAAqBP,EAAEQ,MAAMC,KAAK,OAClCT,EAAE,kBAAkBU,MAAM,WAG9BV,EAAEW,UAAU,CACRC,QAAS,CACL,eAAgBZ,EAAE,2BAA2Ba,KAAK,cAI1Db,EAAE,iBAAiBE,GAAG,QAAS,WAAW,WAEtCY,gCAAgC,iBAChCC,8BAEAf,EAAEgB,KAAK,CACHC,KAAM,OACNC,IAAK,SAASlB,EAAE,YAAYmB,OAC5BV,KAAM,CACF,QAAY,UAEhBW,SAAU,OACVC,QAAS,SAASZ,GAEda,4BAA4Bb,EAAKc,SAE7Bd,EAAKe,QACLxB,EAAE,eAAeyB,YAAYC,MAAK,IAG1CC,MAAO,SAASlB,GACZa,4BAA4B,6CAEhCM,SAAU,SAASnB,GAEfoB","file":"/admin/js/pages/users/list.js","sourcesContent":["$(document).on('click', '.open-delete-modal', function() {\r\n    modal_update_action_button_text(\"Delete\");\r\n    modal_add_class_action_button_text('btn-danger');\r\n    modal_add_class_action_button_text('delete');\r\n    modal_update_title('Delete User?');\r\n    modal_update_body(\"Are you sure you want to delete this user?\");\r\n    modal_update_data_id($(this).data('id'));\r\n    $('#confirm_modal').modal('show');\r\n});\r\n\r\n$.ajaxSetup({\r\n    headers: {\r\n        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n    }\r\n});\r\n\r\n$('.modal-footer').on('click', '.delete', function() {\r\n\r\n    modal_update_processing_message(\"Processing...\");\r\n    modal_disable_action_button();\r\n\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: 'users/'+$('#data_id').text(),\r\n        data: {\r\n            '_method' : 'DELETE',\r\n        },\r\n        dataType: 'json',\r\n        success: function(data) {\r\n\r\n            modal_update_result_message(data.message);\r\n\r\n            if (data.result){\r\n                $('#user_table').DataTable().draw(false);\r\n            }\r\n        },\r\n        error: function(data) {\r\n            modal_update_result_message(\"An error occured. Please try again later\");\r\n        },\r\n        complete: function(data) {\r\n\r\n            modal_close()\r\n\r\n        }\r\n    });\r\n\r\n});\r\n"],"sourceRoot":""}